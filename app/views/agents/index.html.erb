<% content_for :title, "Agentes" %>

<div class="card">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
    <h3>Agentes Configurados</h3>
    <a href="/agents/new" class="btn btn-primary">+ Nuevo Agente</a>
  </div>
  
  <table style="margin-top: 1rem;">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Rol</th>
        <th>Modelo</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <% @agents.each do |agent| %>
        <tr>
          <td><strong><%= agent.name %></strong></td>
          <td><span class="pill pill-warning"><%= agent.role %></span></td>
          <td><code><%= agent.model_preferred %></code></td>
          <td>
            <span class="pill pill-<%= agent.active ? 'success' : 'danger' %>">
              <%= agent.active ? 'Activo' : 'Inactivo' %>
            </span>
          </td>
          <td>
            <a href="/agents/<%= agent.id %>" class="btn" style="padding: 0.25rem 0.5rem; font-size: 0.75rem; background: var(--bg);">Ver</a>
            <a href="/agents/<%= agent.id %>/edit" class="btn" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">Editar</a>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  
  <% if @agents.empty? %>
    <p style="text-align: center; color: var(--text-muted); padding: 2rem;">
      No hay agentes configurados.
    </p>
  <% end %>
</div>
